function editResource(e){for(var o=e.split("&tags="),t=o[1].split("%2C"),s=[o[0]],a=0;a<t.length;a++)s.push(t[a]);e=s.join("&tags="),console.log("Form data is"+e),$.ajax({type:"POST",url:serverURL+"resource",data:"tags="+e,beforeSend:function(e){e.setRequestHeader("email",window.localStorage.email),e.setRequestHeader("auth_token",window.localStorage.auth_token),e.setRequestHeader("id",resourceID),console.log("sending ajax for new resource")},success:function(e){window.location.href="dashboard.html"},error:function(e,o,t){console.log(e.status),console.log(t),window.alert("Deleting Resource Failed")}})}var serverURL="https://project3pockety.herokuapp.com/";console.log("edit-tag.js loaded"),$(function e(){$(".resources").on("click",".edit-resource",function(e){$("#inner-tags").append('<form id="edit-resource-form" class="col s12" action="https://project3pockety.herokuapp.com/resource" method="post" style="padding: 20px;"><div class="row"><div class="input-field col s12"><label for="tags">Tags</label><input type="text" name="tags" id="tags" value data-role="materialtags"></div></div><button class="btn waves-effect waves-light" type="submit" name="action" id="submit">Update Tags<i class="material-icons right">send</i></button></form><div class="modal-footer"><a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Cancel</a></div>'),$(this).closest(".edit-resource").hide(),$(this).closest(".modal-close").on("click",function(){console.log("cancel clicked"),$(this).closest("form").remove(),$(this).closest(".modal-footer").remove(),$(this).closest(".edit-resource").show()}),console.log(this);var o=this;console.log(o);var t=o.dataset.id;console.log("heard edit click event for resource ID "+t)})}),$(function(){$("#edit-resource-form").on("submit",function(e){e.preventDefault();var o=$(this).serialize();editResource(o)})});